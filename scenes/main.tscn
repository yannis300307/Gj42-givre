[gd_scene load_steps=38 format=3 uid="uid://dcb808weh1jp7"]

[ext_resource type="Texture2D" uid="uid://daq6jl4b6ipgm" path="res://assets/textures/map/floor.png" id="1_0wfyh"]
[ext_resource type="PackedScene" uid="uid://bgo4pvbpvl0go" path="res://objects/player.tscn" id="1_o5qli"]
[ext_resource type="Script" uid="uid://b8nrxqwctugxs" path="res://misc_script/main.gd" id="1_tbgi4"]
[ext_resource type="Script" uid="uid://d0so6wnbntblo" path="res://misc_script/camera.gd" id="2_sugp2"]
[ext_resource type="Texture2D" uid="uid://cgv1d54c24gyy" path="res://assets/textures/map/bottom_wall.png" id="3_ya4ey"]
[ext_resource type="Texture2D" uid="uid://ic44qse0emr6" path="res://assets/textures/map/top_wall.png" id="4_eb6dy"]
[ext_resource type="Texture2D" uid="uid://dr41oo2oursqe" path="res://assets/textures/objects/fish.png" id="4_o6xl0"]
[ext_resource type="Texture2D" uid="uid://mtw4tsrh518n" path="res://assets/textures/map/bar.png" id="5_eb6dy"]
[ext_resource type="PackedScene" uid="uid://dfth80igv5ms4" path="res://objects/item_pool.tscn" id="5_tbgi4"]
[ext_resource type="PackedScene" uid="uid://3odrmu7w5o0g" path="res://objects/customer.tscn" id="8_eb6dy"]
[ext_resource type="Texture2D" uid="uid://c8xgwdrcdfwx3" path="res://assets/textures/objects/sugar.png" id="8_trceg"]
[ext_resource type="PackedScene" uid="uid://c5gljso0rd8bj" path="res://scenes/inventory.tscn" id="9_85g3d"]
[ext_resource type="Texture2D" uid="uid://bjm3q3ac7f2vl" path="res://assets/textures/map/table.png" id="10_ya4ey"]
[ext_resource type="Texture2D" uid="uid://bsk7bnq1juqif" path="res://assets/textures/customers/Porthos.png" id="11_a8y0u"]
[ext_resource type="Script" uid="uid://bj1s2xd723vio" path="res://misc_script/customers_manager.gd" id="12_gqmmt"]
[ext_resource type="Texture2D" uid="uid://b3ebeqadua43e" path="res://assets/textures/customers/athos.png" id="12_jbj1t"]
[ext_resource type="Texture2D" uid="uid://slydqcvtsofg" path="res://assets/textures/customers/Aramys.png" id="13_muem4"]
[ext_resource type="Texture2D" uid="uid://djwdfth8yxyb6" path="res://assets/textures/map/mixor.png" id="14_muem4"]
[ext_resource type="Texture2D" uid="uid://bschwikutw7c8" path="res://assets/textures/objects/mossy_wall.png" id="18_dp3eg"]
[ext_resource type="Texture2D" uid="uid://bfti2qgjb8k2a" path="res://assets/textures/objects/bin.png" id="19_0ld40"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_a8y0u"]
size = Vector2(256, 44)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jkv2x"]
size = Vector2(8, 69)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_choun"]
size = Vector2(79.75, 53.75)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ya4ey"]
size = Vector2(64, 32)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_yc10j"]
size = Vector2(69, 58)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_0ld40"]
size = Vector2(60, 12)

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_0ld40"]
normal = Vector2(1, 0)
distance = -227.0

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_gqmmt"]
distance = -145.0

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_yc10j"]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_jscy8"]
normal = Vector2(0, 1)
distance = -113.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_pm3ni"]
size = Vector2(4, 6)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jscy8"]
size = Vector2(66, 54)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_gqmmt"]
size = Vector2(47, 34)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_muem4"]
size = Vector2(57.5, 57.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jbj1t"]
size = Vector2(16, 196)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_trceg"]
size = Vector2(257, 28)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_dp3eg"]
size = Vector2(8, 44)

[node name="Main" type="Node"]
script = ExtResource("1_tbgi4")

[node name="MapUnderPlayer" type="Node2D" parent="."]

[node name="Floor" type="Sprite2D" parent="MapUnderPlayer"]
position = Vector2(-1, 16)
texture = ExtResource("1_0wfyh")

[node name="TopWall2" type="StaticBody2D" parent="MapUnderPlayer"]

[node name="Texture" type="Sprite2D" parent="MapUnderPlayer/TopWall2"]
position = Vector2(32, -52)
texture = ExtResource("4_eb6dy")

[node name="Collision" type="CollisionShape2D" parent="MapUnderPlayer/TopWall2"]
position = Vector2(32, -90)
shape = SubResource("RectangleShape2D_a8y0u")

[node name="Collision2" type="CollisionShape2D" parent="MapUnderPlayer/TopWall2"]
position = Vector2(-92, -36.5)
shape = SubResource("RectangleShape2D_jkv2x")

[node name="Aquarium" parent="MapUnderPlayer" instance=ExtResource("5_tbgi4")]
position = Vector2(-56, -56)

[node name="Aquarium" type="Sprite2D" parent="MapUnderPlayer/Aquarium"]
texture = ExtResource("4_o6xl0")

[node name="Area" type="CollisionShape2D" parent="MapUnderPlayer/Aquarium"]
position = Vector2(8.125, 10.875)
shape = SubResource("RectangleShape2D_choun")

[node name="StaticBody" type="StaticBody2D" parent="MapUnderPlayer/Aquarium"]

[node name="Collision" type="CollisionShape2D" parent="MapUnderPlayer/Aquarium/StaticBody"]
position = Vector2(0, 1)
shape = SubResource("RectangleShape2D_ya4ey")

[node name="MossyWall" parent="MapUnderPlayer" instance=ExtResource("5_tbgi4")]
position = Vector2(-128, -60)
item_type = 1

[node name="Texture" type="Sprite2D" parent="MapUnderPlayer/MossyWall"]
texture = ExtResource("18_dp3eg")

[node name="Area" type="CollisionShape2D" parent="MapUnderPlayer/MossyWall"]
position = Vector2(-3.5, 19)
shape = SubResource("RectangleShape2D_yc10j")

[node name="StaticBody" type="StaticBody2D" parent="MapUnderPlayer/MossyWall"]

[node name="Collision" type="CollisionShape2D" parent="MapUnderPlayer/MossyWall/StaticBody"]
position = Vector2(2, 15)
shape = SubResource("RectangleShape2D_0ld40")

[node name="MapBorders" type="StaticBody2D" parent="MapUnderPlayer"]

[node name="Left" type="CollisionShape2D" parent="MapUnderPlayer/MapBorders"]
position = Vector2(1, 0)
shape = SubResource("WorldBoundaryShape2D_0ld40")

[node name="Bottom" type="CollisionShape2D" parent="MapUnderPlayer/MapBorders"]
shape = SubResource("WorldBoundaryShape2D_gqmmt")

[node name="Right" type="CollisionShape2D" parent="MapUnderPlayer/MapBorders"]
position = Vector2(223, 1)
rotation = -1.5707964
shape = SubResource("WorldBoundaryShape2D_yc10j")

[node name="Up" type="CollisionShape2D" parent="MapUnderPlayer/MapBorders"]
shape = SubResource("WorldBoundaryShape2D_jscy8")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(1, -1)
zoom = Vector2(6, 6)
limit_left = -225
limit_top = -112
limit_right = 223
limit_bottom = 144
limit_smoothed = true
position_smoothing_enabled = true
position_smoothing_speed = 6.0
script = ExtResource("2_sugp2")
player_direction_offset = 50

[node name="Customers" type="Node2D" parent="."]
position = Vector2(189, 0)
script = ExtResource("12_gqmmt")

[node name="Porthos" parent="Customers" instance=ExtResource("8_eb6dy")]
position = Vector2(6, -135)
walking_speed = 70.0
movements_pos = Array[Vector2]([Vector2(5, -120), Vector2(20, -50), Vector2(-2, -10), Vector2(0, 30), Vector2(20, 60), Vector2(20, 20), Vector2(10, 0), Vector2(0, -10), Vector2(-10, 50), Vector2(15, 20), Vector2(-10, 50), Vector2(0, 100), Vector2(10, 180)])
bar_point_index = 8

[node name="Texture" type="Sprite2D" parent="Customers/Porthos"]
position = Vector2(0, -0.201)
texture = ExtResource("11_a8y0u")
offset = Vector2(2.2132292, -16.299376)

[node name="Athos" parent="Customers" instance=ExtResource("8_eb6dy")]
position = Vector2(6, -135)
walking_speed = 100.0
movements_pos = Array[Vector2]([Vector2(0, -150), Vector2(10, 200), Vector2(-10, 50), Vector2(-10, 200)])
bar_point_index = 2

[node name="Texture" type="Sprite2D" parent="Customers/Athos"]
position = Vector2(1, -16)
texture = ExtResource("12_jbj1t")

[node name="Aramys" parent="Customers" instance=ExtResource("8_eb6dy")]
position = Vector2(6, -135)
walking_speed = 30.0
movements_pos = Array[Vector2]([Vector2(60, 0), Vector2(0, 10), Vector2(-10, 50), Vector2(60, 100)])
bar_point_index = 2

[node name="Texture" type="Sprite2D" parent="Customers/Aramys"]
position = Vector2(-1, -15)
texture = ExtResource("13_muem4")

[node name="Player" parent="." instance=ExtResource("1_o5qli")]
unique_name_in_owner = true
position = Vector2(71, 32)
speed = 20.0

[node name="MapUpperPlayer" type="Node2D" parent="."]

[node name="Table" type="StaticBody2D" parent="MapUpperPlayer"]
position = Vector2(72, -40)

[node name="Texture" type="Sprite2D" parent="MapUpperPlayer/Table"]
texture = ExtResource("10_ya4ey")

[node name="Right" type="CollisionShape2D" parent="MapUpperPlayer/Table"]
position = Vector2(58, 33)
shape = SubResource("RectangleShape2D_pm3ni")

[node name="Left" type="CollisionShape2D" parent="MapUpperPlayer/Table"]
position = Vector2(-61, 33)
shape = SubResource("RectangleShape2D_pm3ni")

[node name="Mixor" type="Sprite2D" parent="MapUpperPlayer"]
position = Vector2(32, -46)
texture = ExtResource("14_muem4")

[node name="Bin" parent="MapUpperPlayer" instance=ExtResource("5_tbgi4")]
position = Vector2(-189, 108)
item_type = 3

[node name="Texture" type="Sprite2D" parent="MapUpperPlayer/Bin"]
texture = ExtResource("19_0ld40")

[node name="Area" type="CollisionShape2D" parent="MapUpperPlayer/Bin"]
position = Vector2(4, 8)
shape = SubResource("RectangleShape2D_jscy8")

[node name="StaticBody" type="StaticBody2D" parent="MapUpperPlayer/Bin"]

[node name="Collision" type="CollisionShape2D" parent="MapUpperPlayer/Bin/StaticBody"]
position = Vector2(-13.5, 19)
shape = SubResource("RectangleShape2D_gqmmt")

[node name="SugarCube" parent="MapUpperPlayer" instance=ExtResource("5_tbgi4")]
position = Vector2(106, -68)
item_type = 2

[node name="Sprite2D" type="Sprite2D" parent="MapUpperPlayer/SugarCube"]
texture = ExtResource("8_trceg")

[node name="Collision" type="CollisionShape2D" parent="MapUpperPlayer/SugarCube"]
position = Vector2(-1, 37)
shape = SubResource("RectangleShape2D_muem4")

[node name="Bar2" type="StaticBody2D" parent="MapUpperPlayer"]
position = Vector2(152, 16)

[node name="Texture" type="Sprite2D" parent="MapUpperPlayer/Bar2"]
texture = ExtResource("5_eb6dy")

[node name="Collision" type="CollisionShape2D" parent="MapUpperPlayer/Bar2"]
position = Vector2(0, 14)
shape = SubResource("RectangleShape2D_jbj1t")

[node name="BottomWall" type="StaticBody2D" parent="MapUpperPlayer"]

[node name="Texture" type="Sprite2D" parent="MapUpperPlayer/BottomWall"]
position = Vector2(32, 108)
texture = ExtResource("3_ya4ey")

[node name="Collision" type="CollisionShape2D" parent="MapUpperPlayer/BottomWall"]
position = Vector2(32.5, 130)
shape = SubResource("RectangleShape2D_trceg")

[node name="Collision2" type="CollisionShape2D" parent="MapUpperPlayer/BottomWall"]
position = Vector2(-92, 94)
shape = SubResource("RectangleShape2D_dp3eg")

[node name="Ui" type="CanvasLayer" parent="."]

[node name="Inventory" parent="Ui" instance=ExtResource("9_85g3d")]
position = Vector2(171, 284.00003)
